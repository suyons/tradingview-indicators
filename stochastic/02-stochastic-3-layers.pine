//@version=5
indicator("Stochastic 3")

periodK1 = input.int(5, title="", minval=1, group="Stoch 01 : %K L / %K S / %D S", inline="1")
smoothK1 = input.int(3, title="", minval=1, group="Stoch 01 : %K L / %K S / %D S", inline="1")
smoothD1 = input.int(3, title="", minval=1, group="Stoch 01 : %K L / %K S / %D S", inline="1")
k1 = ta.sma(ta.stoch(close, high, low, periodK1), smoothK1)
d1 = ta.sma(k1, smoothD1)

periodK2 = input.int(10, title="", minval=1, group="Stoch 02 : %K L / %K S / %D S", inline="1")
smoothK2 = input.int(06, title="", minval=1, group="Stoch 02 : %K L / %K S / %D S", inline="1")
smoothD2 = input.int(06, title="", minval=1, group="Stoch 02 : %K L / %K S / %D S", inline="1")
k2 = ta.sma(ta.stoch(close, high, low, periodK2), smoothK2)
d2 = ta.sma(k1, smoothD2)

periodK3 = input.int(20, title="", minval=1, group="Stoch 03 : %K L / %K S / %D S", inline="1")
smoothK3 = input.int(12, title="", minval=1, group="Stoch 03 : %K L / %K S / %D S", inline="1")
smoothD3 = input.int(12, title="", minval=1, group="Stoch 03 : %K L / %K S / %D S", inline="1")
k3 = ta.sma(ta.stoch(close, high, low, periodK3), smoothK3)
d3 = ta.sma(k1, smoothD3)

u20 = plot(k3 > 80 ? 80+200:na, title="20-10-10 Upper", color=color.new(color.white,50), style=plot.style_line, linewidth=1, editable=false, display=display.none)
hline(250, title="20-10-10 Basis", color=color.new(color.white,50), linestyle=hline.style_dashed, linewidth=1, editable=false)
l20 = plot(k3 < 20 ? 20+200:na, title="20-10-10 Lower", color=color.new(color.white,50), style=plot.style_line, linewidth=1, editable=false, display=display.none)
hline(200, title="", color=color.new(color.white,50), linestyle=hline.style_solid, linewidth=1, editable=false)
u10 = plot(k2 > 80 ? 80+100:na, title="10-5-5 Upper", color=color.new(color.white,50), style=plot.style_line, linewidth=1, editable=false, display=display.none)
hline(150, title="10-5-5 Basis", color=color.new(color.white,50), linestyle=hline.style_dashed, linewidth=1, editable=false)
l10 = plot(k2 < 20 ? 20+100:na, title="10-5-5 Lower", color=color.new(color.white,50), style=plot.style_line, linewidth=1, editable=false, display=display.none)
hline(100, title="", color=color.new(color.white,50), linestyle=hline.style_solid, linewidth=1, editable=false)
u5 = plot(k1 > 80 ? 80:na, title="5-3-3 Upper", color=color.new(color.white,50), style=plot.style_line, linewidth=1, editable=false, display=display.none)
hline(50, title="5-3-3 Basis", color=color.new(color.white,50), linestyle=hline.style_dashed, linewidth=1, editable=false)
l5 = plot(k1 < 20 ? 20:na, title="5-3-3 Lower", color=color.new(color.white,50), style=plot.style_line, linewidth=1, editable=false, display=display.none)

k20 = plot(k3+200, title="%K 03", color=#E67E22, linewidth=2)
plot(d3+200, title="%D 03", color=#9598a1, linewidth=1, display=display.all)
k10 = plot(k2+100, title="%K 02", color=#E74C3C, linewidth=2)
plot(d2+100, title="%D 02", color=#9598a1, linewidth=1, display=display.all)
k5 = plot(k1, title="%K 01", color=#F4F6F7, linewidth=2)
plot(d1, title="%D 01", color=#9598a1, linewidth=1, display=display.all)

// Overbought = #F6465D / Oversold = #0ECB81
fill(u20, k20, color=color.new(#0ECB81, 50), editable=false)
fill(l20, k20, color=color.new(#F6465D, 50), editable=false)
fill(u10, k10, color=color.new(#0ECB81, 50), editable=false)
fill(l10, k10, color=color.new(#F6465D, 50), editable=false)
fill(u5, k5, color=color.new(#0ECB81, 50), editable=false)
fill(l5, k5, color=color.new(#F6465D, 50), editable=false)

// t20 = table.new(position.top_left, 1, 1, color.black)
// table.cell(t20, 0, 0, "10", 0, 0, color.white)
// t10 = table.new(position.middle_left, 1, 1, color.black)
// table.cell(t10, 0, 0, "5", 0, 0, color.white)
// t5 = table.new(position.bottom_left, 1, 1, color.black)
// table.cell(t5, 0, 0, "1", 0, 0, color.white)
